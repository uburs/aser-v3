<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced ASR Captions Prototypes</title>
    <style>
        body {
            font-family: 'Times New Roman', Times, serif;
            background-color: #f0f8ff;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .container {
            display: none;
            position: relative;
            width: 90%;
            height: 80%;
            border: 2px solid #000;
            border-radius: 10px;
            background-color: #fff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        .active {
            display: flex;
        }
        .caption-box, .caption-overlay {
            width: 50%;
            padding: 20px;
            overflow-y: auto;
            font-size: 18px;
            line-height: 1.5;
        }
        .caption-box {
            border-right: 2px solid #000;
        }
        .caption-overlay {
            position: absolute;
            bottom: 0;
            width: 100%;
            max-height: 40%;
            overflow-y: hidden;
            padding: 20px;
            text-align: center;
            color: white;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            font-size: 18px;
            line-height: 1.5;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .caption-text {
            display: inline-block;
            opacity: 0;
            animation: fadeIn 1s forwards;
        }
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        .happy {
            color: green;
        }
        .sad {
            color: blue;
        }
        .neutral {
            color: white;
        }
        video {
            width: 90%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .video-box, .avatar-box {
            width: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .avatar {
            width: 50%;
            height: auto;
        }
        .navigation {
            position: absolute;
            bottom: 20px;
            width: 100%;
            display: flex;
            justify-content: space-between;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="prototype1" class="container active">
        <div class="caption-box" id="captionBox1">
            <!-- Captions will appear here -->
        </div>
        <div class="video-box">
            <video id="video1" autoplay></video>
        </div>
    </div>

    <div id="prototype2" class="container">
        <div class="caption-box" id="captionBox2">
            <!-- Captions will appear here -->
        </div>
        <div class="video-box">
            <video id="video2" autoplay></video>
        </div>
    </div>

    <div id="prototype3" class="container">
        <video id="video3" autoplay muted></video>
        <div class="caption-overlay" id="captionBox3">
            <!-- Captions will appear here -->
        </div>
    </div>

    <div id="prototype4" class="container">
        <div class="caption-box" id="captionBox4">
            <!-- Captions will appear here -->
        </div>
        <div class="avatar-box">
            <img src="avatar.png" alt="Avatar" class="avatar" id="avatar">
        </div>
    </div>

    <div class="navigation">
        <button id="prevButton" onclick="showPrevious()">Previous</button>
        <button id="nextButton" onclick="showNext()">Next</button>
    </div>

    <script>
        const captions1 = [
            "Hello everyone! Welcome to our session. I am excited to share this with you. The results are surprising. We should be cautious with our conclusions. Thank you for your attention."
        ];
        const captions2 = [
            "Welcome to Chemistry 101. Chemistry is the scientific study of the properties and behavior of matter. It is a natural science that covers the elements that make up matter to the compounds composed of atoms, molecules, and ions. Chemistry seeks to understand the properties of matter and how it reacts with other matter."
        ];
        const captions3 = [
            { text: "Welcome to the world of Computer Science! ðŸ˜Š Computer Science is an exciting and ever-evolving field that encompasses the study of computation, automation, and information.", emotion: "happy" },
            { text: "It involves understanding algorithms, data structures, and the principles of computer and network design.", emotion: "neutral" },
            { text: "Computer Science is the foundation of modern technology, driving innovations in areas such as artificial intelligence, machine learning, and big data.", emotion: "happy" },
            { text: "A strong grasp of programming languages and software development is essential for anyone looking to succeed in this field.", emotion: "neutral" },
            { text: "Programming allows us to create software that can perform complex tasks, solve problems, and improve efficiency.", emotion: "happy" },
            { text: "Data structures, such as arrays, linked lists, and trees, are fundamental concepts that help us organize and store data efficiently.", emotion: "neutral" },
            { text: "Understanding algorithms is crucial as they provide step-by-step instructions to perform tasks and solve problems.", emotion: "neutral" },
            { text: "Artificial Intelligence and Machine Learning are particularly fascinating areas within Computer Science. These technologies enable machines to learn from data and make decisions, mimicking human intelligence.", emotion: "happy" },
            { text: "AI and ML are being used in a wide range of applications, from self-driving cars to personalized recommendations on streaming services.", emotion: "neutral" },
            { text: "It's essential to stay updated with the latest trends and advancements in technology. The field of Computer Science is always changing, with new languages, tools, and techniques emerging regularly.", emotion: "neutral" },
            { text: "By mastering the principles of Computer Science, you can become a part of this dynamic field and contribute to the technological advancements that shape our world.", emotion: "happy" },
            { text: "Whether you're interested in developing cutting-edge software, designing innovative hardware, or exploring the possibilities of AI and ML, Computer Science offers endless opportunities.", emotion: "neutral" },
            { text: "Thank you for joining us on this journey through the fascinating world of Computer Science! ðŸ˜Š We hope you're as excited as we are about the endless possibilities and opportunities this field has to offer.", emotion: "happy" }
        ];
        const captions4 = [
            "Welcome to Biology 101. Biology is the natural science that studies life and living organisms, including their physical structure, chemical processes, molecular interactions, physiological mechanisms, development, and evolution. It is a vast field that encompasses various disciplines such as botany, zoology, microbiology, and genetics."
        ];

        const containers = document.querySelectorAll('.container');
        let currentIndex = 0;

        function displayCaption(captionBox, text, index = 0) {
            if (index < text.length) {
                const words = text[index].split(' ');
                let chunk = '';
                words.forEach((word, i) => {
                    if ((i + 1) % 5 === 0 || i === words.length - 1) {
                        chunk += word + ' ';
                        const span = document.createElement('span');
                        span.classList.add('caption-text');
                        span.textContent = chunk;
                        captionBox.appendChild(span);
                        captionBox.scrollTop = captionBox.scrollHeight; // Scroll to bottom
                        chunk = '';
                    } else {
                        chunk += word + ' ';
                    }
                });

                setTimeout(() => displayCaption(captionBox, text, index + 1), 3000); // Adjust the speed of the captions here
            }
        }

        function displayFormattedCaption(captionBox, text, index = 0) {
            if (index < text.length) {
                const words = text[index].split(' ');
                let chunk = '';
                words.forEach((word, i) => {
                    if ((i + 1) % 5 === 0 || i === words.length - 1) {
                        chunk += word + ' ';
                        const span = document.createElement('span');
                        span.classList.add('caption-text');
                        span.innerHTML = chunk
                            .replace(/Chemistry|properties|matter|elements|compounds/gi, (match) => `<strong>${match}</strong>`);
                        captionBox.appendChild(span);
                        captionBox.scrollTop = captionBox.scrollHeight; // Scroll to bottom
                        chunk = '';
                    } else {
                        chunk += word + ' ';
                    }
                });

                setTimeout(() => displayFormattedCaption(captionBox, text, index + 1), 3000); // Adjust the speed of the captions here
            }
        }

        function displayEmotionCaption(captionBox, text, index = 0) {
            if (index < text.length) {
                const { text: captionText, emotion } = text[index];
                const words = captionText.split(' ');
                let chunk = '';
                words.forEach((word, i) => {
                    if ((i + 1) % 5 === 0 || i === words.length - 1) {
                        chunk += word + ' ';
                        const span = document.createElement('span');
                        span.classList.add('caption-text', emotion);
                        span.innerHTML = chunk
                            .replace(/Computer Science|algorithms|data structures|programming languages|artificial intelligence|machine learning/gi, (match) => `<span class="emphasis">${match}</span>`);
                        captionBox.appendChild(span);
                        captionBox.scrollTop = captionBox.scrollHeight; // Scroll to bottom
                        chunk = '';
                    } else {
                        chunk += word + ' ';
                    }
                });

                setTimeout(() => displayEmotionCaption(captionBox, text, index + 1), 3000); // Adjust the speed of the captions here
            }
        }

        displayCaption(document.getElementById('captionBox1'), captions1);
        displayFormattedCaption(document.getElementById('captionBox2'), captions2);
        displayEmotionCaption(document.getElementById('captionBox3'), captions3);
        displayCaption(document.getElementById('captionBox4'), captions4);

        if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
            navigator.mediaDevices.getUserMedia({ video: true }).then(function(stream) {
                document.getElementById('video1').srcObject = stream;
                document.getElementById('video1').play();
                document.getElementById('video2').srcObject = stream;
                document.getElementById('video2').play();
                document.getElementById('video3').srcObject = stream;
                document.getElementById('video3').play();
            });
        }

        function showPrevious() {
            containers[currentIndex].classList.remove('active');
            currentIndex = (currentIndex - 1 + containers.length) % containers.length;
            containers[currentIndex].classList.add('active');
        }

        function showNext() {
            containers[currentIndex].classList.remove('active');
            currentIndex = (currentIndex + 1) % containers.length;
            containers[currentIndex].classList.add('active');
        }
    </script>
</body>
</html>

