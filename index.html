<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emotion-Enhanced Captions</title>
    <style>
        body {
            font-family: 'Times New Roman', Times, serif;
            background-color: #f0f8ff;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .container {
            display: none;
            width: 90%;
            height: 80%;
            border: 2px solid #000;
            border-radius: 10px;
            background-color: #fff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            position: relative;
        }
        .container.active {
            display: flex;
        }
        .video-box {
            width: 30%;
            display: flex;
            justify-content: center;
            align-items: center;
            border-right: 2px solid #000;
        }
        .caption-box {
            width: 70%;
            padding: 20px;
            overflow-y: auto;
            font-size: 18px;
            line-height: 1.5;
            background: #fff;
        }
        .emotion-happy {
            color: green;
        }
        .emotion-sad {
            color: blue;
        }
        .emotion-angry {
            color: red;
            animation: shake 0.5s;
        }
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }
        .caption-text {
            display: inline-block;
            margin-right: 5px;
            opacity: 0;
            animation: fadeIn 1s forwards;
        }
        .caption-text.bold {
            font-weight: bold;
        }
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        video {
            width: 90%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .caption-overlay {
            position: absolute;
            bottom: 0;
            width: 100%;
            padding: 20px;
            text-align: center;
            color: white;
            background: rgba(0, 0, 0, 0.5);
            font-size: 18px;
            line-height: 1.5;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .emotion-detection-overlay {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 100%;
            overflow-y: hidden;
            padding: 20px;
            text-align: center;
            color: black;
            font-size: 18px;
            line-height: 1.5;
            display: flex;
            flex-direction: column;
            align-items: center;
            pointer-events: none;
        }
        .emotion-text {
            display: inline-block;
            margin-right: 5px;
            animation: moveUp 10s linear infinite;
        }
        @keyframes moveUp {
            from {
                transform: translateY(100%);
            }
            to {
                transform: translateY(-100%);
            }
        }
        .navigation {
            position: absolute;
            bottom: 20px;
            width: 100%;
            display: flex;
            justify-content: space-between;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="page1" class="container active">
        <div class="video-box">
            <video id="video1" autoplay muted></video>
        </div>
        <div class="caption-box" id="captionBox1">
            <!-- Captions will appear here -->
        </div>
        <div id="quiz1" class="quiz-container">
            <h3>Quiz: What is computer science?</h3>
            <form id="quizForm1">
                <label>
                    <input type="radio" name="q1" value="The study of languages"> The study of languages
                </label><br>
                <label>
                    <input type="radio" name="q1" value="The study of computation, automation, and information"> The study of computation, automation, and information
                </label><br>
                <label>
                    <input type="radio" name="q1" value="The study of biology"> The study of biology
                </label><br>
            </form>
        </div>
        <div class="navigation">
            <button id="next1">Next</button>
        </div>
    </div>

    <div id="page2" class="container">
        <div class="video-box" style="width: 100%;">
            <video id="video2" autoplay muted></video>
            <div class="caption-overlay" id="captionBox2">
                <!-- Captions will appear here -->
            </div>
        </div>
        <div id="quiz2" class="quiz-container">
            <h3>Quiz: Which area does engineering cover?</h3>
            <form id="quizForm2">
                <label>
                    <input type="radio" name="q2" value="Cooking"> Cooking
                </label><br>
                <label>
                    <input type="radio" name="q2" value="Building, design, and technology"> Building, design, and technology
                </label><br>
                <label>
                    <input type="radio" name="q2" value="History"> History
                </label><br>
            </form>
        </div>
        <div class="navigation">
            <button id="previous2">Previous</button>
            <button id="next2">Next</button>
        </div>
    </div>

    <div id="page3" class="container">
        <div class="video-box">
            <video id="video3" autoplay muted></video>
        </div>
        <div class="caption-box" id="captionBox3">
            <!-- Captions will appear here -->
        </div>
        <div id="quiz3" class="quiz-container">
            <h3>Quiz: What are the recent growth areas in biology?</h3>
            <form id="quizForm3">
                <label>
                    <input type="radio" name="q3" value="Artificial intelligence, machine learning, and data science"> Artificial intelligence, machine learning, and data science
                </label><br>
                <label>
                    <input type="radio" name="q3" value="Genomics, biotechnology, and ecology"> Genomics, biotechnology, and ecology
                </label><br>
                <label>
                    <input type="radio" name="q3" value="Carpentry"> Carpentry
                </label><br>
            </form>
        </div>
        <div class="navigation">
            <button id="previous3">Previous</button>
            <button id="next3">Next</button>
        </div>
    </div>

    <div id="page4" class="container">
        <div class="emotion-detection-overlay" id="captionBox4">
            <!-- Captions will appear here -->
        </div>
        <div id="quiz4" class="quiz-container">
            <h3>Quiz: Why is understanding chemistry concepts crucial?</h3>
            <form id="quizForm4">
                <label>
                    <input type="radio" name="q4" value="For developing efficient and innovative technological solutions"> For developing efficient and innovative technological solutions
                </label><br>
                <label>
                    <input type="radio" name="q4" value="For gardening"> For gardening
                </label><br>
                <label>
                    <input type="radio" name="q4" value="For cooking recipes"> For cooking recipes
                </label><br>
            </form>
        </div>
        <div class="navigation">
            <button id="previous4">Previous</button>
            <button id="submit">Submit</button>
        </div>
    </div>

    <script>
        const textPage1 = "Introduction to Computer Science: Computer science is the study of computation, automation, and information. It involves the theory of computation, algorithms, data structures, computer and network design, and artificial intelligence. Understanding these concepts is crucial for developing efficient and innovative technological solutions. Computer science spans several core areas including programming, systems architecture, databases, and software engineering. Additionally, fields like artificial intelligence, machine learning, and data science have grown significantly in recent years. By mastering computer science principles, you can develop software that solves real-world problems, create systems that drive the future of technology, and contribute to advancements in numerous industries.";
        
        const textPage2 = "Engineering is the application of science and math to solve problems. Engineers figure out how things work and find practical uses for scientific discoveries. Scientists and inventors often get the credit for innovations that advance the human condition, but it is engineers who are instrumental in making those innovations available to the world. Engineering encompasses a range of specialized fields including civil, mechanical, chemical, electrical, and aerospace engineering. Each field has its unique challenges and requires a specific set of skills and knowledge. For example, civil engineering focuses on infrastructure projects such as bridges and buildings, while electrical engineering deals with electronic systems and power generation. The goal of engineering is to improve quality of life by designing and creating useful products, systems, and processes.";

        const textPage3 = "Biology is the natural science that studies life and living organisms, including their physical structure, chemical processes, molecular interactions, physiological mechanisms, development, and evolution. Modern biology is a vast field composed of many branches including genetics, ecology, and biotechnology. With the advancement of technology, new areas such as genomics, bioinformatics, and synthetic biology have emerged, driving significant progress in our understanding of life processes. Recent growth areas in biology include personalized medicine, which tailors medical treatment to individual genetic profiles, and environmental biology, which addresses the impacts of human activity on ecosystems. Understanding biology is crucial for addressing global challenges such as disease, food security, and climate change.";

        const textPage4 = "Chemistry is the branch of science that deals with the properties, composition, and behavior of elements and compounds. It plays a crucial role in understanding the natural world and developing new materials and technologies. Chemistry concepts are foundational to numerous fields including medicine, environmental science, and engineering. For example, knowledge of chemical reactions is essential for developing pharmaceuticals, while understanding the chemistry of materials is key to creating sustainable energy solutions. By studying chemistry, we can develop efficient and innovative technological solutions that address real-world challenges, from treating diseases to designing eco-friendly products. A solid grasp of chemistry is essential for anyone pursuing a career in science or engineering.";

        const page1Captions = generateCaptions(textPage1);
        const page2Captions = generateCaptions(textPage2);
        const page3Captions = generateCaptions(textPage3);
        const page4Captions = generateCaptions(textPage4);

        const pages = [
            { videoId: 'video1', captions: page1Captions, captionBoxId: 'captionBox1' },
            { videoId: 'video2', captions: page2Captions, captionBoxId: 'captionBox2' },
            { videoId: 'video3', captions: page3Captions, captionBoxId: 'captionBox3' },
            { videoId: 'video4', captions: page4Captions, captionBoxId: 'captionBox4' }
        ];

        let currentPageIndex = 0;

        function generateCaptions(text) {
            const sentences = text.split('.').map(sentence => sentence.trim()).filter(sentence => sentence.length > 0);
            return sentences.map(sentence => {
                const words = sentence.split(' ');
                const emotion = detectEmotion(sentence);
                const captionHTML = words.map(word => `<span class="caption-text ${emotion}">${word}</span>`).join(' ');
                return { text: sentence, html: captionHTML, emotion };
            });
        }

        function detectEmotion(text) {
            const lowerText = text.toLowerCase();
            if (lowerText.includes('innovative') || lowerText.includes('exciting')) {
                return 'emotion-happy';
            } else if (lowerText.includes('challenge') || lowerText.includes('crucial')) {
                return 'emotion-sad';
            } else if (lowerText.includes('problem') || lowerText.includes('disease')) {
                return 'emotion-angry';
            }
            return '';
        }

        function showCaptions(captions, captionBoxId) {
            const captionBox = document.getElementById(captionBoxId);
            captionBox.innerHTML = captions.map(caption => caption.html).join(' ');
        }

        function playVideo(videoId, captions, captionBoxId) {
            const video = document.getElementById(videoId);
            const captionBox = document.getElementById(captionBoxId);
            video.play();

            let currentCaptionIndex = 0;

            const interval = setInterval(() => {
                if (currentCaptionIndex < captions.length) {
                    showCaptions([captions[currentCaptionIndex]], captionBoxId);
                    currentCaptionIndex++;
                } else {
                    clearInterval(interval);
                }
            }, 5000);
        }

        function showPage(index) {
            pages.forEach((page, pageIndex) => {
                const container = document.getElementById(`page${pageIndex + 1}`);
                if (pageIndex === index) {
                    container.classList.add('active');
                    playVideo(page.videoId, page.captions, page.captionBoxId);
                } else {
                    container.classList.remove('active');
                }
            });
            currentPageIndex = index;
        }

        document.getElementById('next1').addEventListener('click', () => showPage(1));
        document.getElementById('previous2').addEventListener('click', () => showPage(0));
        document.getElementById('next2').addEventListener('click', () => showPage(2));
        document.getElementById('previous3').addEventListener('click', () => showPage(1));
        document.getElementById('next3').addEventListener('click', () => showPage(3));
        document.getElementById('previous4').addEventListener('click', () => showPage(2));
        document.getElementById('submit').addEventListener('click', () => alert('Quiz submitted!'));

        showPage(currentPageIndex);
    </script>
</body>
</html>


