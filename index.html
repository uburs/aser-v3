<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emotion-Enhanced Captions</title>
    <style>
        body {
            font-family: 'Times New Roman', Times, serif;
            background-color: #f0f8ff;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .container {
            display: none;
            width: 90%;
            height: 80%;
            border: 2px solid #000;
            border-radius: 10px;
            background-color: #fff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            position: relative;
        }
        .container.active {
            display: flex;
        }
        .video-box {
            width: 30%;
            display: flex;
            justify-content: center;
            align-items: center;
            border-right: 2px solid #000;
        }
        .caption-box {
            width: 70%;
            padding: 20px;
            overflow-y: auto;
            font-size: 18px;
            line-height: 1.5;
            background: #fff;
        }
        .emotion-happy {
            color: green;
        }
        .emotion-sad {
            color: blue;
        }
        .emotion-angry {
            color: red;
            animation: shake 0.5s;
        }
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }
        .caption-text {
            display: inline-block;
            margin-right: 5px;
            opacity: 0;
            animation: fadeIn 1s forwards;
        }
        .caption-text.bold {
            font-weight: bold;
        }
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        video {
            width: 90%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .caption-overlay, .emotion-detection-overlay {
            position: absolute;
            bottom: 0;
            width: 100%;
            padding: 20px;
            text-align: center;
            color: white;
            background: rgba(0, 0, 0, 0.5);
            font-size: 18px;
            line-height: 1.5;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
        }
        .emotion-text {
            display: inline-block;
            margin-right: 5px;
            animation: moveUp 10s linear infinite;
        }
        @keyframes moveUp {
            from {
                transform: translateY(100%);
            }
            to {
                transform: translateY(-100%);
            }
        }
        .navigation {
            position: absolute;
            bottom: 20px;
            width: 100%;
            display: flex;
            justify-content: space-between;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="page1" class="container active">
        <div class="video-box">
            <video id="video1" autoplay muted></video>
        </div>
        <div class="caption-box" id="captionBox1">
            <!-- Captions will appear here -->
        </div>
        <div id="quiz1" class="quiz-container">
            <h3>Quiz: What is computer science?</h3>
            <form id="quizForm1">
                <label>
                    <input type="radio" name="q1" value="The study of languages"> The study of languages
                </label><br>
                <label>
                    <input type="radio" name="q1" value="The study of computation, automation, and information"> The study of computation, automation, and information
                </label><br>
                <label>
                    <input type="radio" name="q1" value="The study of biology"> The study of biology
                </label><br>
            </form>
        </div>
        <div class="navigation">
            <button id="next1">Next</button>
        </div>
    </div>

    <div id="page2" class="container">
        <div class="video-box" style="width: 100%;">
            <video id="video2" autoplay muted></video>
            <div class="caption-overlay" id="captionBox2">
                <!-- Captions will appear here -->
            </div>
        </div>
        <div id="quiz2" class="quiz-container">
            <h3>Quiz: Which area does engineering cover?</h3>
            <form id="quizForm2">
                <label>
                    <input type="radio" name="q2" value="Cooking"> Cooking
                </label><br>
                <label>
                    <input type="radio" name="q2" value="Building, design, and technology"> Building, design, and technology
                </label><br>
                <label>
                    <input type="radio" name="q2" value="History"> History
                </label><br>
            </form>
        </div>
        <div class="navigation">
            <button id="previous2">Previous</button>
            <button id="next2">Next</button>
        </div>
    </div>

    <div id="page3" class="container">
        <div class="video-box">
            <video id="video3" autoplay muted></video>
        </div>
        <div class="caption-box" id="captionBox3">
            <!-- Captions will appear here -->
        </div>
        <div id="quiz3" class="quiz-container">
            <h3>Quiz: What are the recent growth areas in biology?</h3>
            <form id="quizForm3">
                <label>
                    <input type="radio" name="q3" value="Artificial intelligence, machine learning, and data science"> Artificial intelligence, machine learning, and data science
                </label><br>
                <label>
                    <input type="radio" name="q3" value="Genomics, biotechnology, and ecology"> Genomics, biotechnology, and ecology
                </label><br>
                <label>
                    <input type="radio" name="q3" value="Carpentry"> Carpentry
                </label><br>
            </form>
        </div>
        <div class="navigation">
            <button id="previous3">Previous</button>
            <button id="next3">Next</button>
        </div>
    </div>

    <div id="page4" class="container">
        <div class="emotion-detection-overlay" id="captionBox4">
            <!-- Captions will appear here -->
        </div>
        <div id="quiz4" class="quiz-container">
            <h3>Quiz: Why is understanding chemistry concepts crucial?</h3>
            <form id="quizForm4">
                <label>
                    <input type="radio" name="q4" value="For developing efficient and innovative technological solutions"> For developing efficient and innovative technological solutions
                </label><br>
                <label>
                    <input type="radio" name="q4" value="For gardening"> For gardening
                </label><br>
                <label>
                    <input type="radio" name="q4" value="For cooking recipes"> For cooking recipes
                </label><br>
            </form>
        </div>
        <div class="navigation">
            <button id="previous4">Previous</button>
            <button id="submit">Submit</button>
        </div>
    </div>

    <script>
        const textPage1 = "Introduction to Computer Science: Computer science is the study of computation, automation, and information. It involves the theory of computation, algorithms, data structures, computer and network design, and artificial intelligence. Understanding these concepts is crucial for developing efficient and innovative technological solutions. Computer science spans several core areas including programming, systems architecture, databases, and software engineering. Additionally, fields like artificial intelligence, machine learning, and data science have grown significantly in recent years. By mastering computer science principles, you can develop software that solves real-world problems, create systems that drive the future of technology, and contribute to advancements in numerous industries.";
        
        const textPage2 = "Introduction to Engineering: Engineering is the application of scientific principles to design, build, and analyze objects and systems. It involves various disciplines such as mechanical, civil, electrical, and chemical engineering, each focusing on different aspects of technology and design. Mechanical engineering deals with the design and manufacturing of physical systems, while civil engineering focuses on the construction of infrastructure such as buildings and bridges. Electrical engineering encompasses the study of electronics, electromagnetism, and power systems, and chemical engineering involves the development of chemical processes for manufacturing. Engineering plays a vital role in advancing technology, solving practical problems, and improving the quality of life. Understanding engineering concepts is crucial for innovation and developing solutions that meet societal needs.";
        
        const textPage3 = "Introduction to Biology: Biology is the study of living organisms and their interactions with the environment. It covers various fields such as genetics, ecology, and physiology. Recent advancements in genomics and biotechnology have revolutionized our understanding of life processes and disease mechanisms. Ecologists study the interactions between organisms and their environment, which is essential for conservation and sustainability efforts. Advances in biology have led to significant developments in healthcare, agriculture, and environmental management. By exploring biology, you can contribute to the understanding of life processes, develop new medical treatments, and address environmental challenges.";
        
        const textPage4 = "Introduction to Chemistry: Chemistry is the study of matter, its properties, how and why substances combine or separate to form other substances, and how substances interact with energy. It plays a critical role in the development of new materials, pharmaceuticals, and energy solutions. Understanding chemistry concepts is crucial for developing efficient and innovative technological solutions. From the creation of new drugs to the development of sustainable energy sources, chemistry impacts various aspects of our daily lives. By studying chemistry, you can contribute to advancements in healthcare, environmental protection, and the development of new technologies.";

        const emotionMapping = {
            happy: "happy",
            sad: "sad",
            angry: "angry"
        };

        function parseText(text) {
            const words = text.split(' ');
            return words.map(word => {
                let emotion = null;
                let bold = false;
                if (word.includes(':')) {
                    [word, emotion] = word.split(':');
                }
                if (word.startsWith('*') && word.endsWith('*')) {
                    word = word.slice(1, -1);
                    bold = true;
                }
                return { text: word, emotion, bold };
            });
        }

        function displayCaption(captionBox, textArray, index = 0, wordsPerLine = 7) {
            if (index < textArray.length) {
                setTimeout(() => {
                    let line = textArray.slice(index, index + wordsPerLine).map(word => {
                        const span = document.createElement('span');
                        span.classList.add('caption-text', `emotion-${word.emotion}`);
                        if (word.bold) span.classList.add('bold');
                        span.textContent = word.text;
                        return span;
                    });

                    // Append spans as a single line
                    const lineDiv = document.createElement('div');
                    line.forEach(span => lineDiv.appendChild(span));
                    captionBox.appendChild(lineDiv);

                    captionBox.scrollTop = captionBox.scrollHeight; // Scroll to bottom

                    displayCaption(captionBox, textArray, index + wordsPerLine, wordsPerLine);
                }, 1000); // Adjust the speed of the captions here
            }
        }

        function setUpVideoAndCaptions(videoId, captionBoxId, text) {
            const videoElement = document.getElementById(videoId);
            const captionBox = document.getElementById(captionBoxId);

            // Simulate video playing
            const words = parseText(text);
            displayCaption(captionBox, words);
        }

        document.getElementById('next1').addEventListener('click', () => {
            document.getElementById('page1').classList.remove('active');
            document.getElementById('page2').classList.add('active');
        });

        document.getElementById('previous2').addEventListener('click', () => {
            document.getElementById('page1').classList.add('active');
            document.getElementById('page2').classList.remove('active');
        });

        document.getElementById('next2').addEventListener('click', () => {
            document.getElementById('page2').classList.remove('active');
            document.getElementById('page3').classList.add('active');
        });

        document.getElementById('previous3').addEventListener('click', () => {
            document.getElementById('page2').classList.add('active');
            document.getElementById('page3').classList.remove('active');
        });

        document.getElementById('next3').addEventListener('click', () => {
            document.getElementById('page3').classList.remove('active');
            document.getElementById('page4').classList.add('active');
        });

        document.getElementById('previous4').addEventListener('click', () => {
            document.getElementById('page3').classList.add('active');
            document.getElementById('page4').classList.remove('active');
        });

        setUpVideoAndCaptions('video1', 'captionBox1', textPage1);
        setUpVideoAndCaptions('video2', 'captionBox2', textPage2);
        setUpVideoAndCaptions('video3', 'captionBox3', textPage3);
        setUpVideoAndCaptions('captionBox4', 'captionBox4', textPage4);
    </script>
</body>
</html>


